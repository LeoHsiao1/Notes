# ICMP

：因特网控制报文协议（Internet Control Messages Protocol），用于测试网络是否连通、网络延迟。
- 属于网络层协议，基于 IP 协议进行寻址。

## 原理

- 向目标主机发送一个 ICMP 报文，根据收到回复的时间间隔就可以知道通信延迟。
  - ICMP 报文的头部中，用 1 个字节记录该报文剩下的生存时间（Time To Live ，TTL）。
  - ICMP 报文每经过一跳路由器，TTL 的值就会被减一，当 TTL 为零时路由器就会丢弃该报文。
- 如果没收到回复，则原因可能是：
  - 网络不连通
  - 目标主机不允许 ICMP 通信
