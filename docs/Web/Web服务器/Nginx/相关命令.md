# 相关命令

## htpasswd

：Apache 提供的一个命令行工具，用于生成密码的哈希值。
- 安装：`yum install httpd-tools`
- 用法：
  ```sh
  htpasswd [username] [password]
          # 关于哈希算法
          -d              # 采用 CRYPT 算法
          -B              # 采用 BCRYPT 算法。推荐采用该算法，更安全
          -m              # 采用 MD5 算法（默认）
          -s              # 采用 SHA-1 算法
          -2              # 采用 SHA-256 算法
          -5              # 采用 SHA-512 算法

          # 关于输入
          -b <password>   # 通过命令参数输入密码。否则默认通过终端提示输入密码
          -i              # 从 stdin 读取密码

          # 关于输出
          -c <file>       # 创建密码文件，如果该文件已存在则会被覆盖
          -D <username>   # 从文件中删除一个用户
          -v <username>   # 验证一个用户的密码
          -n              # 将加密结果输出到 stdout ，而不是文件
  ```
- 例：
  ```sh
  [root@CentOS ~]# htpasswd -Bbn root 123456          # 生成密码的哈希值
  root:$2y$05$8kv1HZMemYkavceQmrRC5umW6YJJokbixvgQn2sBsb.zrGBnxKs8O
  ```
  ```sh
  [root@CentOS ~]# htpasswd -Bbc passwd root 123456   # 创建密码文件 passwd ，添加一个用户及密码的哈希值
  Adding password for user root
  [root@CentOS ~]# htpasswd -Bb  passwd admin 123456  # 再添加一个用户。如果该用户名已存在，则会覆盖其密码的哈希值
  Updating password for user admin
  [root@CentOS ~]# htpasswd -B   passwd admin         # 再添加一个用户，默认通过终端提示输入密码
  New password:
  Re-type new password:
  Adding password for user admin
  [root@CentOS ~]# cat passwd                         # 查看密码文件
  root:$2y$05$DqIV6YHZ9Sw/UkpNFPTXFOW.DB2NmpEdhdzZO2GJkZ5FpEt.h7k3W
  admin:$2y$05$F9euMbpa.FNwOIJUcitzRu2k7oBv.3gmWG.eDmusFpsfskTe7Vj2i
  [root@CentOS ~]# htpasswd -D passwd admin           # 删除一个用户
  Deleting password for user admin
  ```

